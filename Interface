// Connect to devices and perform operations
for _, conn := range connections {
    fromDevice := devices[conn.FromDevice]
    toDevice := devices[conn.ToDevice]
    fromInterface := interfaces[conn.Interface]

    t.Logf("Testing connection from %s to %s using interface %s", fromDevice.Alias, toDevice.Alias, fromInterface)

    e, err := connectToDevice(fromDevice)
    if err != nil {
        t.Errorf("Failed to connect to device %s: %v", fromDevice.Alias, err)
        continue
    }
    defer e.Close()

    // Iterate over each interface and ping the corresponding IP address
    for interface, ip := range interfaces {
        t.Logf("Pinging from %s to %s using interface %s - IP: %s", fromDevice.Alias, toDevice.Alias, interface, ip)

        e.Expect(regexp.MustCompile("#"), 10*time.Second) // Wait for the command prompt
        e.Send(fmt.Sprintf("ping %s\n", ip)) // Send the ping command with the interface IP address
        output, _, _ := e.Expect(regexp.MustCompile("#"), 10*time.Second) // Wait for the command prompt after ping
        t.Logf("Ping Output:\n%s", output)
    }
}
